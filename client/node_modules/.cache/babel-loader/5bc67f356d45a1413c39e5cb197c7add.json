{"ast":null,"code":"import React,{Component}from'react';import{editProfileInfo,editUserPhoto,getUserByIDForEdit}from'../../actions/user';import'./EditProfile.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class EditProfile extends Component{constructor(){super();this.changeHandler=e=>{e.preventDefault();const target=e.target;// const value = target.value;\nconst name=target.id;if(name===\"photo\"){this.setState({[name]:target.files[0]});}else{this.setState({[name]:target.value});}};this.submitHandler=e=>{e.preventDefault();editProfileInfo(this,this.state.photo);if(this.state.photo!=null){editUserPhoto(e,this.state.userid);}};this.state={firstname:'',lastname:'',email:'',username:'',photo:null,userid:''};}componentDidMount(){// userid passed via props\nconst{userid}=this.props;getUserByIDForEdit(this,userid);this.setState({userid:userid});}render(){const{firstname,lastname,email,username}=this.state;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"First Name\",id:\"firstname\",value:firstname,onChange:this.changeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Last Name\",id:\"lastname\",value:lastname,onChange:this.changeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",placeholder:\"Enter a username\",value:username,onChange:this.changeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Enter your email\",id:\"email\",value:email,onChange:this.changeHandler})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-file\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"custom-file-label\",children:[\"Upload your photo \",/*#__PURE__*/_jsx(\"small\",{children:\"(may take a few seconds for changes to reflect)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",className:\"custom-file-input\",id:\"photo\",onChange:this.changeHandler})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-warning btn-block\",children:\"Update Profile Info\"})]});}}export default EditProfile;","map":{"version":3,"names":["React","Component","editProfileInfo","editUserPhoto","getUserByIDForEdit","jsx","_jsx","jsxs","_jsxs","EditProfile","constructor","changeHandler","e","preventDefault","target","name","id","setState","files","value","submitHandler","state","photo","userid","firstname","lastname","email","username","componentDidMount","props","render","onSubmit","children","className","type","placeholder","onChange"],"sources":["D:/Projects/Roomer/client/src/components/editProfileComponents/EditProfile.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport {  editProfileInfo, editUserPhoto, getUserByIDForEdit } from '../../actions/user';\nimport './EditProfile.css'\n\nclass EditProfile extends Component {\n   \n    constructor() {\n        super()\n        this.state = {\n            firstname: '',\n            lastname: '',\n            email: '',\n            username: '',\n            photo: null,\n            userid: '',\n        }\n    }\n\n    componentDidMount() {\n        // userid passed via props\n        const { userid } = this.props\n        getUserByIDForEdit(this, userid)\n        this.setState({ userid: userid})\n    }\n\n    changeHandler = (e) => {\n        e.preventDefault();\n        const target = e.target;\n        // const value = target.value;\n        const name = target.id;\n        if(name === \"photo\"){\n\n            this.setState(\n                {[name]: target.files[0]\n                });\n        }\n        else{\n            this.setState({\n                [name]: target.value \n              });\n        }\n\n    }\n\n    submitHandler = (e) => {\n        e.preventDefault();\n        editProfileInfo(this, this.state.photo)\n        if(this.state.photo != null){\n            editUserPhoto(e,this.state.userid)\n        }\n    }\n\n    render() { \n        const { firstname, lastname, email, username } = this.state\n        return ( \n            <form onSubmit={ this.submitHandler }>\n                <div className=\"form-group\">\n                    <label>First name</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"First Name\" id='firstname' value={firstname} onChange={this.changeHandler}/>\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Last name</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Last Name\" id='lastname' value={lastname} onChange={this.changeHandler}/>\n                </div>\n                <div className=\"form-group\">\n                    <label>Username</label>\n                    <input type=\"text\" className=\"form-control\" id='username' placeholder=\"Enter a username\" value= {username} onChange={this.changeHandler}/>\n                </div>\n                <div className=\"form-group\">\n                    <label>Email address</label>\n                    <input type=\"email\" className=\"form-control\" placeholder=\"Enter your email\" id='email' value = {email} onChange={this.changeHandler}/>\n                </div>\n\n                <div className=\"form-group\">\n                    <div className=\"custom-file\">\n                        <label className=\"custom-file-label\">Upload your photo <small>(may take a few seconds for changes to reflect)</small></label>\n                        <input type=\"file\" name=\"image\" className=\"custom-file-input\" id=\"photo\"onChange={this.changeHandler}/>\n                    </div>\n                </div>\n\n                <button type=\"submit\" className=\"btn btn-warning btn-block\" >Update Profile Info</button>\n\n            </form>\n\n         );\n    }\n}\n \nexport default EditProfile;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAAUC,eAAe,CAAEC,aAAa,CAAEC,kBAAkB,KAAQ,oBAAoB,CACxF,MAAO,mBAAmB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,WAAW,QAAS,CAAAR,SAAU,CAEhCS,WAAWA,CAAA,CAAG,CACV,KAAK,CAAC,CAAC,MAkBXC,aAAa,CAAIC,CAAC,EAAK,CACnBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,MAAM,CAAGF,CAAC,CAACE,MAAM,CACvB;AACA,KAAM,CAAAC,IAAI,CAAGD,MAAM,CAACE,EAAE,CACtB,GAAGD,IAAI,GAAK,OAAO,CAAC,CAEhB,IAAI,CAACE,QAAQ,CACT,CAAC,CAACF,IAAI,EAAGD,MAAM,CAACI,KAAK,CAAC,CAAC,CACvB,CAAC,CAAC,CACV,CAAC,IACG,CACA,IAAI,CAACD,QAAQ,CAAC,CACV,CAACF,IAAI,EAAGD,MAAM,CAACK,KACjB,CAAC,CAAC,CACR,CAEJ,CAAC,MAEDC,aAAa,CAAIR,CAAC,EAAK,CACnBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBX,eAAe,CAAC,IAAI,CAAE,IAAI,CAACmB,KAAK,CAACC,KAAK,CAAC,CACvC,GAAG,IAAI,CAACD,KAAK,CAACC,KAAK,EAAI,IAAI,CAAC,CACxBnB,aAAa,CAACS,CAAC,CAAC,IAAI,CAACS,KAAK,CAACE,MAAM,CAAC,CACtC,CACJ,CAAC,CA1CG,IAAI,CAACF,KAAK,CAAG,CACTG,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZL,KAAK,CAAE,IAAI,CACXC,MAAM,CAAE,EACZ,CAAC,CACL,CAEAK,iBAAiBA,CAAA,CAAG,CAChB;AACA,KAAM,CAAEL,MAAO,CAAC,CAAG,IAAI,CAACM,KAAK,CAC7BzB,kBAAkB,CAAC,IAAI,CAAEmB,MAAM,CAAC,CAChC,IAAI,CAACN,QAAQ,CAAC,CAAEM,MAAM,CAAEA,MAAM,CAAC,CAAC,CACpC,CA6BAO,MAAMA,CAAA,CAAG,CACL,KAAM,CAAEN,SAAS,CAAEC,QAAQ,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAG,IAAI,CAACN,KAAK,CAC3D,mBACIb,KAAA,SAAMuB,QAAQ,CAAG,IAAI,CAACX,aAAe,CAAAY,QAAA,eACjCxB,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAD,QAAA,eACvB1B,IAAA,UAAA0B,QAAA,CAAO,YAAU,CAAO,CAAC,cACzB1B,IAAA,UAAO4B,IAAI,CAAC,MAAM,CAACD,SAAS,CAAC,cAAc,CAACE,WAAW,CAAC,YAAY,CAACnB,EAAE,CAAC,WAAW,CAACG,KAAK,CAAEK,SAAU,CAACY,QAAQ,CAAE,IAAI,CAACzB,aAAc,CAAC,CAAC,EACpI,CAAC,cAENH,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAD,QAAA,eACvB1B,IAAA,UAAA0B,QAAA,CAAO,WAAS,CAAO,CAAC,cACxB1B,IAAA,UAAO4B,IAAI,CAAC,MAAM,CAACD,SAAS,CAAC,cAAc,CAACE,WAAW,CAAC,WAAW,CAACnB,EAAE,CAAC,UAAU,CAACG,KAAK,CAAEM,QAAS,CAACW,QAAQ,CAAE,IAAI,CAACzB,aAAc,CAAC,CAAC,EACjI,CAAC,cACNH,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAD,QAAA,eACvB1B,IAAA,UAAA0B,QAAA,CAAO,UAAQ,CAAO,CAAC,cACvB1B,IAAA,UAAO4B,IAAI,CAAC,MAAM,CAACD,SAAS,CAAC,cAAc,CAACjB,EAAE,CAAC,UAAU,CAACmB,WAAW,CAAC,kBAAkB,CAAChB,KAAK,CAAGQ,QAAS,CAACS,QAAQ,CAAE,IAAI,CAACzB,aAAc,CAAC,CAAC,EACzI,CAAC,cACNH,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAD,QAAA,eACvB1B,IAAA,UAAA0B,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5B1B,IAAA,UAAO4B,IAAI,CAAC,OAAO,CAACD,SAAS,CAAC,cAAc,CAACE,WAAW,CAAC,kBAAkB,CAACnB,EAAE,CAAC,OAAO,CAACG,KAAK,CAAIO,KAAM,CAACU,QAAQ,CAAE,IAAI,CAACzB,aAAc,CAAC,CAAC,EACrI,CAAC,cAENL,IAAA,QAAK2B,SAAS,CAAC,YAAY,CAAAD,QAAA,cACvBxB,KAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAD,QAAA,eACxBxB,KAAA,UAAOyB,SAAS,CAAC,mBAAmB,CAAAD,QAAA,EAAC,oBAAkB,cAAA1B,IAAA,UAAA0B,QAAA,CAAO,iDAA+C,CAAO,CAAC,EAAO,CAAC,cAC7H1B,IAAA,UAAO4B,IAAI,CAAC,MAAM,CAACnB,IAAI,CAAC,OAAO,CAACkB,SAAS,CAAC,mBAAmB,CAACjB,EAAE,CAAC,OAAO,CAAAoB,QAAQ,CAAE,IAAI,CAACzB,aAAc,CAAC,CAAC,EACtG,CAAC,CACL,CAAC,cAENL,IAAA,WAAQ4B,IAAI,CAAC,QAAQ,CAACD,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAE,qBAAmB,CAAQ,CAAC,EAEvF,CAAC,CAGf,CACJ,CAEA,cAAe,CAAAvB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}